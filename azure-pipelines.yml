# See also https://docs.microsoft.com/en-us/azure/devops/pipelines/scripts/cross-platform-scripting?view=azure-devops&tabs=yaml
trigger:
    branches:
        include: ['*']
    tags:
        include: ['*']

jobs:
    - template: etc/ci/azure-posix.yml
      parameters:
          name: Ubuntu_16
          image_name: ubuntu-16.04
          matrix:
              Python_27_Linux:
                  python_version: '2.7'
              Python_36_Linux:
                  python_version: '3.6'
              Python_37_Linux:
                  python_version: '3.7'

    - template: etc/ci/azure-posix.yml
      parameters:
          name: macOS_1013
          image_name: macos-10.13
          matrix:
              Python_27_Mac:
                  python_version: '2.7'
              Python_36_Mac:
                  python_version: '3.6'
              Python_37_Mac:
                  python_version: '3.7'

    - template: etc/ci/azure-posix.yml
      parameters:
          name: macOS_1014
          image_name: macos-10.14
          matrix:
              Python_27_Mac:
                  python_version: '2.7'
              Python_36_Mac:
                  python_version: '3.6'
              Python_37_Mac:
                  python_version: '3.7'

    - template: etc/ci/azure-win.yml
      parameters:
          name: Windows_2016
          image_name: vs2017-win2016
          matrix:
              Python_27_Win:
                  python_version: '2.7'
              Python_36_Windows:
                  python_version: '3.6'
              Python_37_Windows:
                  python_version: '3.7'

    - template: etc/ci/azure-win.yml
      parameters:
          name: vs2015-win2012r2
          image_name: Windows_2012
          matrix:
              Python_27_Win:
                  python_version: '2.7'
              Python_36_Windows:
                  python_version: '3.6'
              Python_37_Windows:
                  python_version: '3.7'
